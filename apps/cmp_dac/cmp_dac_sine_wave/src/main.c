/*******************************************************************************
  Main Source File

  Company:
    Microchip Technology Inc.

  File Name:
    main.c

  Summary:
    This file contains the "main" function for a project.

  Description:
    This file contains the "main" function for a project.  The
    "main" function calls the "SYS_Initialize" function to initialize the state
    machines of all modules in the system
 *******************************************************************************/

// *****************************************************************************
// *****************************************************************************
// Section: Included Files
// *****************************************************************************
// *****************************************************************************

#include <stddef.h>                     // Defines NULL
#include <stdbool.h>                    // Defines true
#include <stdlib.h>                     // Defines EXIT_FAILURE
#include "definitions.h"                // SYS function prototypes

#define SINE_RESOLUTION 256

// *****************************************************************************
// *****************************************************************************
// Section: Main Entry Point
// *****************************************************************************
// *****************************************************************************
int main(void)
{
uint32_t sineTable[SINE_RESOLUTION] = {
    0x8000000, 0x82d0000, 0x85a0000, 0x8870000, 0x8b40000, 0x8e10000, 0x90e0000, 0x93a0000, 
    0x9670000, 0x9930000, 0x9bf0000, 0x9eb0000, 0xa160000, 0xa410000, 0xa6c0000, 0xa970000, 
    0xac10000, 0xaea0000, 0xb130000, 0xb3c0000, 0xb640000, 0xb8c0000, 0xbb30000, 0xbd90000, 
    0xbff0000, 0xc240000, 0xc490000, 0xc6d0000, 0xc900000, 0xcb30000, 0xcd50000, 0xcf60000, 
    0xd160000, 0xd360000, 0xd550000, 0xd730000, 0xd900000, 0xdac0000, 0xdc70000, 0xde20000, 
    0xdfb0000, 0xe140000, 0xe2c0000, 0xe430000, 0xe580000, 0xe6d0000, 0xe810000, 0xe940000, 
    0xea60000, 0xeb70000, 0xec60000, 0xed50000, 0xee30000, 0xeef0000, 0xefb0000, 0xf050000, 
    0xf0f0000, 0xf170000, 0xf1e0000, 0xf240000, 0xf290000, 0xf2d0000, 0xf300000, 0xf310000, 
    0xf320000, 0xf310000, 0xf300000, 0xf2d0000, 0xf290000, 0xf240000, 0xf1e0000, 0xf170000, 
    0xf0f0000, 0xf050000, 0xefb0000, 0xeef0000, 0xee30000, 0xed50000, 0xec60000, 0xeb70000, 
    0xea60000, 0xe940000, 0xe810000, 0xe6d0000, 0xe580000, 0xe430000, 0xe2c0000, 0xe140000, 
    0xdfb0000, 0xde20000, 0xdc70000, 0xdac0000, 0xd900000, 0xd730000, 0xd550000, 0xd360000, 
    0xd160000, 0xcf60000, 0xcd50000, 0xcb30000, 0xc900000, 0xc6d0000, 0xc490000, 0xc240000, 
    0xbff0000, 0xbd90000, 0xbb30000, 0xb8c0000, 0xb640000, 0xb3c0000, 0xb130000, 0xaea0000, 
    0xac10000, 0xa970000, 0xa6c0000, 0xa410000, 0xa160000, 0x9eb0000, 0x9bf0000, 0x9930000, 
    0x9670000, 0x93a0000, 0x90e0000, 0x8e10000, 0x8b40000, 0x8870000, 0x85a0000, 0x82d0000, 
    0x8000000, 0x7d20000, 0x7a50000, 0x7780000, 0x74b0000, 0x71e0000, 0x6f10000, 0x6c50000, 
    0x6980000, 0x66c0000, 0x6400000, 0x6140000, 0x5e90000, 0x5be0000, 0x5930000, 0x5680000, 
    0x53e0000, 0x5150000, 0x4ec0000, 0x4c30000, 0x49b0000, 0x4730000, 0x44c0000, 0x4260000, 
    0x4000000, 0x3db0000, 0x3b60000, 0x3920000, 0x36f0000, 0x34c0000, 0x32a0000, 0x3090000, 
    0x2e90000, 0x2c90000, 0x2aa0000, 0x28c0000, 0x26f0000, 0x2530000, 0x2380000, 0x21d0000, 
    0x2040000, 0x1eb0000, 0x1d30000, 0x1bc0000, 0x1a70000, 0x1920000, 0x17e0000, 0x16b0000, 
    0x1590000, 0x1480000, 0x1390000, 0x12a0000, 0x11c0000, 0x1100000, 0x1040000, 0xfa0000, 
    0xf0000, 0xe8000, 0xe1000, 0xdb0000, 0xd60000, 0xd20000, 0xcf0000, 0xce0000, 0xcd0000, 
    0xce0000, 0xcf0000, 0xd20000, 0xd60000, 0xdb0000, 0xe10000, 0xe80000, 0xf00000, 0xfa0000, 
    0x1040000, 0x1100000, 0x11c0000, 0x12a0000, 0x1390000, 0x1480000, 0x1590000, 0x16b0000, 
    0x17e0000, 0x1920000, 0x1a70000, 0x1bc0000, 0x1d30000, 0x1eb0000, 0x2040000, 0x21d0000, 
    0x2380000, 0x2530000, 0x26f0000, 0x28c0000, 0x2aa0000, 0x2c90000, 0x2e90000, 0x3090000, 
    0x32a0000, 0x34c0000, 0x36f0000, 0x3920000, 0x3b60000, 0x3db0000, 0x4000000, 0x4260000, 
    0x44c0000, 0x4730000, 0x49b0000, 0x4c30000, 0x4ec0000, 0x5150000, 0x53e0000, 0x5680000, 
    0x5930000, 0x5be0000, 0x5e90000, 0x6140000, 0x6400000, 0x66c0000, 0x6980000, 0x6c50000, 
    0x6f10000, 0x71e0000, 0x74b0000, 0x7780000, 0x7a50000, 0x7d20000    
};

   

    /* Initialize all modules */
    SYS_Initialize ( NULL );
    
    DMA_ChannelTransfer(DMA_CHANNEL_0, &sineTable[0],(void*)&DAC1DAT, SINE_RESOLUTION);

    TMR1_Start();

    while ( true )
    {
        /* Maintain state machines of all polled MPLAB Harmony modules. */
        SYS_Tasks ( );
    }

    /* Execution should not come here during normal operation */

    return ( EXIT_FAILURE );
}


/*******************************************************************************
 End of File
*/

